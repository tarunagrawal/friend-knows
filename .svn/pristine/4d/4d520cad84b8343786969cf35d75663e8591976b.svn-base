<%@ page session="false"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://www.springframework.org/tags" prefix="s"%>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%>

<style>
.ui-autocomplete-loading {
	background: white url('images/ui-anim_basic_16x16.gif') right center
		no-repeat;
}
</style>
<script>
	$(document).ready(function() {
		$("#friend-search").tokenInput("/review/facebook/search/", {
			theme : "facebook",
			preventDuplicates : true,
		});

		$("#item-search").tokenInput("/review/item/search/", {
			theme : "facebook",
			tokenLimit : 1,
			onResult : function(results) {
				var id = "token-input-" + $(this).attr("id");
				var searchTerm = $("#" + id).val();
				results[0] = {
					id : "new:" + searchTerm,
					name : searchTerm
				};
				return results;
			}
		});

		$("#category-search").tokenInput("/review/category/search/", {
			theme : "facebook",
			tokenLimit : 1,
		});

	});
</script>

<h3>Initiate a review</h3>

<c:forEach var="error" items="${messages}">
	<div>${error.key},${error.value}</div>
</c:forEach>

<form:form commandName="bean" id="initateReview" method="POST"
	action="${formActionURL}">

	<table>

		<tr>
			<td width="30%" align="right">Category:</td>
			<td align="left"><form:input id="category-search" type="text"
					path="category" /></td>
		</tr>

		<tr>
			<td width="30%" align="right">Item:</td>
			<td align="left"><form:input id="item-search" type="text"
					path="item" /></td>
		</tr>
		<tr>
			<td width="30%" align="right">Description:</td>
			<td align="left"><form:input type="text" path="description" /></td>
		</tr>
		<tr>
			<td width="30%" align="right">Scope:</td>
			<td align="left"><form:radiobutton path="scope" value="public" />
				Public <form:radiobutton path="scope" value="Private" /> Private
		</tr>
		<tr>
			<td width="30%" align="right">Friends:</td>
			<td align="left"><input id="friend-search" type="text"
				name="friends" /></td>
		</tr>
		<tr>
			<td colspan="2" align="center"><form:input type="submit"
					value="submit" path="" /></td>
		</tr>

	</table>

</form:form>








